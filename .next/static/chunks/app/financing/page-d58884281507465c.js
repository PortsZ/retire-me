(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{7262:function(e,t,l){Promise.resolve().then(l.bind(l,1703))},1703:function(e,t,l){"use strict";var s=l(7437),a=l(2265),n=l(9343);t.default=()=>{let{register:e,watch:t,setValue:l,getValues:o,handleSubmit:i}=(0,n.cI)({defaultValues:{amount:"",months:"",interestRate:"",installment:"",interestAmount:"",total:""}}),[r,c]=(0,a.useState)("monthly"),[u,m]=(0,a.useState)(""),[d,x]=(0,a.useState)(!1),h=()=>{let{amount:e,months:t,interestRate:s}=o(),a=p();if(e&&t&&s){let s=a*t;l("interestAmount",(s-e).toFixed(2)),l("total",s.toFixed(2))}else e&&t&&a&&(l("interestAmount",(a*t-e).toFixed(2)),l("total",(a*t).toFixed(2)))},p=()=>{l("installment","");let{amount:e,months:t,interestRate:s}=o();if(e&&t&&s){let a;let n=s/100,o=(a="yearly"===r?Math.pow(1+n,1/12)-1:n)/(1-Math.pow(1+a,-t))*e;return l("installment",o.toFixed(2)),o}},f=()=>{l("interestRate","");let{amount:e,months:t,installment:s}=o();if(console.log("CALCULATING INTEREST RATE"),e&&t&&s){let a,n=0,o=1;for(let i=0;i<1e3;i++){let i=(a=(n+o)/2)/(1-Math.pow(1+a,-t))*e;if(.01>Math.abs(i-s)){let e;return l("interestRate",(100*(e="yearly"===r?Math.pow(1+a,12)-1:a)).toFixed(2)),e}i>s?o=a:n=a}}},b=()=>{l("months","");let{amount:e,interestRate:t,installment:s}=o();if(e&&t&&s){let a;console.log("calculating months");let n=t/100;0!==(a="yearly"===r?Math.pow(1+n,1/12)-1:n)?l("months",Math.ceil(Math.log(s/(s-a*e))/Math.log(1+a))):0===a&&l("months",Math.ceil(e/s))}},y=()=>{console.log("calculating for",u),"installment"===u&&p(),"interestRate"===u&&f(),"months"===u&&b()};return(0,a.useEffect)(()=>{let{amount:e,interestRate:t,months:l,installment:s}=o();(e&&t&&l||"installment"===u)&&m("installment")},[t("amount"),t("months"),t("interestRate")]),(0,a.useEffect)(()=>{let{amount:e,installment:t,months:l,interestRate:s}=o();(e&&t&&l||"interestRate"===u)&&m("interestRate")},[t("amount"),t("months"),t("installment"),u]),(0,a.useEffect)(()=>{let{amount:e,interestRate:t,installment:l,months:s}=o();(e&&t&&l||"months"===u)&&!s&&m("months")},[t("amount"),t("installment"),t("interestRate")]),(0,a.useEffect)(()=>{let{amount:e,interestRate:t,installment:l,months:s}=o();(s&&t&&l||"amount"===u)&&m("amount")},[t("interestRate"),t("installment"),t("months")]),(0,a.useEffect)(()=>{d&&(f(),x(!1))},[r,d]),(0,s.jsxs)("form",{onSubmit:i(()=>{h()}),className:"grid grid-cols-2 gap-4 text-white",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-slate-900",children:"Montante Financiado"}),(0,s.jsx)("input",{step:"0.01",type:"number",onFocus:y,...e("amount"),placeholder:"Loan Amount",className:"rounded bg-slate-900 px-4 py-2 w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-slate-900",children:"Numero de Meses"}),(0,s.jsx)("input",{type:"number",onFocus:y,...e("months"),placeholder:"Number of Months",className:"rounded bg-slate-900 px-4 py-2 w-full"})]}),(0,s.jsxs)("div",{className:"flex gap-1 ",children:[(0,s.jsxs)("div",{className:"flex  flex-col gap-1 ",children:[(0,s.jsx)("label",{className:"text-slate-900",children:"Tipo de juros"}),(0,s.jsxs)("div",{className:" flex text-slate-100 bg-slate-900 rounded p-1",children:[(0,s.jsx)("button",{type:"button",className:"rounded-md px-3 py-1 ".concat("monthly"===r?"bg-blue-500":""),onClick:()=>{c("monthly"),x(!0)},children:"Mensal"}),(0,s.jsx)("button",{type:"button",className:"rounded-md  px-3 py-1 ".concat("yearly"===r?"bg-blue-500":""),onClick:()=>{c("yearly"),x(!0)},children:"Anual"})]})]}),(0,s.jsxs)("div",{className:"flex w-full flex-col gap-1 ",children:[(0,s.jsx)("label",{className:"text-slate-900",children:"Juros (%)"}),(0,s.jsx)("input",{className:"rounded w-full bg-slate-900 px-4 py-2",type:"number",step:"0.01",onFocus:y,...e("interestRate"),placeholder:"Interest"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-slate-900",children:"Parcelas Mensais"}),(0,s.jsx)("input",{step:"0.01",type:"number",onFocus:y,...e("installment"),placeholder:"Monthly Installment",className:"rounded bg-slate-900 px-4 py-2 w-full"})]}),(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)("button",{type:"submit",className:"text-black font-medium from-fuchsia-500 to-rose-400 bg-gradient-to-tr px-4 py-2 rounded",children:"Calcular"})}),(0,s.jsxs)("div",{className:"flex gap-6 w-full col-span-2 text-xl",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-slate-900",children:"Montante Pago em Juros"}),(0,s.jsx)("input",{step:"0.01",type:"number",...e("interestAmount"),className:"rounded bg-slate-900 px-4 py-2 w-full text-red-500",readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-slate-900",children:"Montante Total Futuro Pago"}),(0,s.jsx)("input",{step:"0.01",type:"number",...e("total"),className:"rounded bg-slate-900 px-4 py-2 w-full text-fuchsia-500",readOnly:!0})]})]})]})}}},function(e){e.O(0,[343,971,23,744],function(){return e(e.s=7262)}),_N_E=e.O()}]);