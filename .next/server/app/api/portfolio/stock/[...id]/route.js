"use strict";(()=>{var e={};e.id=687,e.ids=[687],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},73837:e=>{e.exports=require("util")},51287:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>f,patchFetch:()=>m,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>c});var o={};t.r(o),t.d(o,{GET:()=>a});var i=t(49303),s=t(88716),n=t(60670),p=t(37903);async function a(e,{params:r}){let t=r.id[0];console.log("\nUser ID:",t);try{let e=await p._.user.findUnique({where:{id:t},include:{portfolio:{include:{stocks:!0}}}});if(e&&e.portfolio)return new Response(JSON.stringify(e.portfolio.stocks));return new Response(JSON.stringify({error:"User or portfolio not found"}),{status:404})}catch(e){return console.error("Error fetching portfolio:",e),new Response(JSON.stringify({error:"Internal Server Error"}),{status:500})}}let u=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/portfolio/stock/[...id]/route",pathname:"/api/portfolio/stock/[...id]",filename:"route",bundlePath:"app/api/portfolio/stock/[...id]/route"},resolvedPagePath:"/home/portsz/projects/portsz/finapp/retire-me/src/app/api/portfolio/stock/[...id]/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:c,serverHooks:d}=u,f="/api/portfolio/stock/[...id]/route";function m(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:c})}},37903:(e,r,t)=>{t.d(r,{_:()=>p});var o=t(53524),i=t(83888);let s=(0,require("@libsql/client").createClient)({url:"libsql://retire-me-portsz.turso.io",authToken:process.env.TURSO_AUTH_TOKEN}),n=new i.B(s),p=new o.PrismaClient({adapter:n})}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[948,65],()=>t(51287));module.exports=o})();